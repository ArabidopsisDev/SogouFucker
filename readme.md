# 搜狗输入法流氓组件清理与封锁脚本使用指南

本工具旨在通过 Windows 权限控制机制，永久封禁搜狗输入法中与输入功能无关的流氓组件、广告插件及非法右键菜单项。

## 1. 软件使用方式

### 准备工作
1. 下载仓库中的 `bat` 文件，保存为 `SealSogou.bat`。
2. 找到搜狗输入法的**当前版本安装目录**。
   * 通常路径类似于：`D:\SogouInput\15.6.0.2020` 或 `C:\Program Files (x86)\SogouInput\15.6.0.2020`。
   * **注意**：必须进入带有版本号数字的文件夹，该目录下应包含 `SGSmartAssistant.exe` 等文件。

### 执行步骤
1. **右键点击** `SealSogou.bat`，选择 **“以管理员身份运行”**。
2. 脚本启动后，根据提示粘贴你的搜狗输入法版本路径并回车。
3. 脚本将自动执行以下操作：
   * 强制终止所有后台流氓进程。
   * 剥夺流氓组件的所有权并设置“拒绝访问”权限（锁定为“僵尸文件”状态）。
   * 清理注册表中的右键菜单残留项。
4. **重启生效**：执行完毕后，请在任务管理器中重启 `Windows 资源管理器`（Explorer.exe）或直接重启电脑。

## 2. 核心违规组件清单及行为说明

### A. 桌面环境与右键菜单劫持类
*   **`SGSmartAssistant.exe` (搜狗智能助手)**
    *   **违规行为**：利用 Windows 稀疏包（Sparse Package）技术强行注入 Windows 11 一级右键菜单。
    *   **后果**：在桌面空白处强制添加“切换壁纸”等无关选项，破坏系统原生纯净度，且无法通过系统设置关闭。
*   **`RightPopmenu.cupf`**
    *   **违规行为**：动态菜单配置文件。
    *   **后果**：允许软件在不更新主程序的情况下，远程下发新的推广链接或功能项到用户的系统右键菜单中。
*   **`UIPlugin.dll` / `shiply.dll`**
    *   **违规行为**：外壳扩展注入库。
    *   **后果**：负责将非输入法功能伪装成系统原生组件，实现对 Windows 资源管理器的深层渗透。

### B. 后台静默操作与资源占用类
*   **`SGDownload.exe` (隐藏下载器)**
    *   **违规行为**：静默执行后台下载任务。
    *   **后果**：在用户不知情的情况下，持续下载广告素材、皮肤推荐及搜狗旗下其他捆绑软件。
*   **`sogou_torrent.dll` (P2P 分发引擎)**
    *   **违规行为**：内置点对点传输协议。
    *   **后果**：将用户的电脑作为 CDN 节点，偷偷上传数据给其他用户以节省搜狗的服务器成本。这会导致用户磁盘 IO 升高、上传带宽被挤占，甚至造成网络卡顿。
*   **`userNetSchedule.exe` (网络调度程序)**
    *   **违规行为**：高频网络通讯。
    *   **后果**：绕过系统更新机制，负责协调各项流氓组件的联网行为，确保广告和插件能准时推送到位。

### C. 广告推送与商业变现类
*   **`SGBizLauncher.exe` (商业业务启动器)**
    *   **违规行为**：商业推广核心引擎。
    *   **后果**：专门负责拉起各种节日弹窗、新闻资讯窗以及各种所谓的“限时福利”广告。
*   **`SGWangzai.exe` (汪仔助手)**
    *   **违规行为**：实时语义扫描。
    *   **后果**：通过扫描用户的输入内容，匹配电商关键词并弹出购物链接。这不仅侵犯隐私，更严重干扰正常的输入体验。
*   **`SGMiniBrowserHelperHost.dll` (内嵌浏览器插件)**
    *   **违规行为**：网页内容劫持。
    *   **后果**：用于在输入法内渲染复杂的网页广告，甚至可能在用户点击某些链接时强行拉起搜狗的微型浏览器。

### D. 强制驻留与反删除类
*   **`PinyinUp.exe` (守护升级程序)**
    *   **违规行为**：恶意自愈机制。
    *   **后果**：表面上是升级程序，实则担任“监工”。一旦发现上述流氓组件被用户手动删除，它会立即重新从服务器下载并静默补全。
*   **`SogouToolkits.exe` (工具箱弹窗)**
    *   **违规行为**：诱导性弹窗。
    *   **后果**：频繁在任务栏上方弹出“输入法医生”、“修复工具”等提示，误导用户点击并进一步安装无关组件。

## 3. 处置建议
由于搜狗输入法具备极强的自我修复能力，传统的“删除文件”法通常在数小时内失效。本脚本采用了权限锁定方法：
1.  **不删除文件**，以规避其完整性自检。
2.  **剥夺所有访问权限**，使这些 `.exe` 和 `.dll` 文件在系统中处于“死锁”状态。
3.  系统将因“权限不足”而无法运行这些组件，从而实现彻底、永久的静默化处理。